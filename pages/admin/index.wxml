<view class="admin-page">
  <view class="header">
    <view class="title">模板管理</view>
    <button class="create-btn" bindtap="createFromCurrent">从当前配置生成模板</button>
  </view>
  <view class="create-row">
    <input class="input" placeholder="输入模板名称（新增模板）" bindinput="onNewTplName" />
    <button class="btn" bindtap="createTemplate">新增模板</button>
  </view>
  <view class="tpl-list">
    <block wx:for="{{templates}}" wx:key="id">
      <view class="tpl-item">
        <view class="tpl-name">{{item.name}} <text class="tpl-status">{{item.status}}</text> <text wx:if="{{item.isDefault}}" class="tpl-default">默认</text></view>
        <view class="tpl-actions">
          <button size="mini" bindtap="edit" data-id="{{item.id}}">编辑</button>
          <button size="mini" bindtap="setDefault" data-id="{{item.id}}">设为默认</button>
          <button size="mini" bindtap="publish" data-id="{{item.id}}">发布</button>
          <button size="mini" type="warn" bindtap="remove" data-id="{{item.id}}">删除</button>
        </view>
      </view>
    </block>
  </view>
</view>